# ===============================
# = H2 DATABASE CONFIGURATION (Default)
# ===============================
spring:
  datasource:
    url: jdbc:h2:mem:campus_connect_db
    driver-class-name: org.h2.Driver
    username: sa
    password: password
  
  # H2 Console (for debugging - accessible at http://localhost:8080/h2-console)
  h2:
    console:
      enabled: true
  
  # JPA Configuration
  jpa:
    hibernate:
      ddl-auto: create-drop
    show-sql: true
    properties:
      hibernate:
        dialect: org.hibernate.dialect.H2Dialect
        format_sql: false
    defer-datasource-initialization: true
  
  # SQL Initialization
  sql:
    init:
      mode: always
  
  # File Upload Configuration
  servlet:
    multipart:
      enabled: true
      max-file-size: 10MB
      max-request-size: 50MB
  
  # Email Configuration (Optional - for contact features)
  # mail:
  #   host: smtp.gmail.com
  #   port: 587
  #   username: your-email@gmail.com
  #   password: your-app-password
  #   properties:
  #     mail:
  #       smtp:
  #         auth: true
  #         starttls:
  #           enable: true

# ===============================
# = SERVER
# ===============================
server:
  port: 8080

# ===============================
# = LOGGING
# ===============================
logging:
  level:
    # Request/Response Interceptor Logging
    com:
      campusconnect:
        config:
          RequestLoggingInterceptor: INFO
    # Spring Web Request Logging Filter
    org:
      springframework:
        web:
          filter:
            CommonsRequestLoggingFilter: DEBUG
          servlet: INFO
        security: INFO
      hibernate:
        SQL: DEBUG
        type:
          descriptor:
            sql:
              BasicBinder: TRACE
    # Root logging level
    root: INFO

# ===============================
# = SWAGGER/OPENAPI CONFIGURATION
# ===============================
springdoc:
  api-docs:
    path: /api-docs
  swagger-ui:
    path: /swagger-ui.html
    try-it-out-enabled: true
    operations-sorter: method
    tags-sorter: alpha
    filter: true
    doc-expansion: none

# ===============================
# = FILE UPLOAD CONFIGURATION
# ===============================
file:
  upload:
    dir: uploads
  max-size: 5242880

# ===============================
# = WEBSOCKET CONFIGURATION
# ===============================
websocket:
  allowed-origins: "*"

# ===============================
# = CORS CONFIGURATION
# ===============================
cors:
  allowed-origins: "*"
  allowed-methods: GET,POST,PUT,DELETE,OPTIONS
  allowed-headers: "*"